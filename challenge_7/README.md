Some thoughts:

This one looks to be asking for a tree structure
Could implement in C with linked list?

Parsing the instructions would be painful though...

